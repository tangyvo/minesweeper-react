(this["webpackJsonpminesweeper-react"]=this["webpackJsonpminesweeper-react"]||[]).push([[0],{16:function(e,n,t){e.exports=t(25)},21:function(e,n,t){},25:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),i=t(12),l=t.n(i),o=(t(21),t(8)),c=t(1),u=t(4),s=t(2),m=t(3);function f(){var e=Object(s.a)(["\n  font-family: Arial, Helvetica, sans-serif;\n  display: flex;\n  justify-content: space-between;\n  background-color: rgb(77, 133, 77);\n  height: 60px;\n  padding: 0 50px;\n\n  select {\n    height: 35px;\n    width: 80px;\n    border-radius: 5px;\n    align-self: center;\n  }\n\n  p {\n    font-size: 1rem;\n    color: white;\n    font-weight: 600;\n  }\n\n  .best-time {\n    margin: auto;\n    text-align: center;\n    align-self: center;\n\n    span {\n      font-size: 0.75rem;\n    }\n  }\n"]);return f=function(){return e},e}var g=m.a.div(f());function b(){var e=Object(s.a)(["\n  width: 600px;\n\n  h1 {\n    text-align: center;\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n    letter-spacing: 0.2em;\n    font-size: 2rem;\n    color: white;\n    font-weight: 900;\n    text-shadow: 2px 2px gray;\n  }\n\n  @media (max-width: 700px) {\n    width: calc(100vw - 10px);\n  }\n"]);return b=function(){return e},e}var d=m.a.div(b());function p(){var e=Object(s.a)(["\n  display: grid;\n  grid-template-columns: repeat(",", 1fr);\n  grid-template-rows: repeat(",", 1fr);\n  height: 600px;\n  align-self: center;\n\n  @media (max-width: 700px) {\n    height: calc(100vw - 10px);\n  }\n"]);return p=function(){return e},e}var v=m.a.div(p(),(function(e){return e.level}),(function(e){return e.level}));function h(){var e=Object(s.a)(["\n  display: flex;\n  justify-content: center;\n\n  -webkit-touch-callout: none;\n  -webkit-user-select: none; /* Disable selection/copy in UIWebView */\n  outline: none;\n  border: 1px solid rgb(77, 133, 77);\n  background-color: ",";\n  color: ",";\n  cursor: pointer;\n  div {\n    font-family: Arial, Helvetica, sans-serif;\n    align-self: center;\n    font-size: ",";\n  }\n"]);return h=function(){return e},e}var O=m.a.div(h(),(function(e){return e.isClicked&&e.index%2===0?"#E5C29F":e.isClicked&&e.index%2!==0?"#D7B898":e.index%2===0?"#A7D947":"#8ECC39"}),(function(e){return 1===e.neighbourBombs?"blue":2===e.neighbourBombs?"green":3===e.neighbourBombs?"red":4===e.neighbourBombs?"purple":5===e.neighbourBombs?"orange":6===e.neighbourBombs?"black":"yellow"}),(function(e){return"15"===e.level?".7rem":"9"===e.level?"1rem":"1.2rem"})),E=r.a.memo((function(e){var n=e.index,t=e.isBomb,a=e.level,i=e.isClicked,l=e.singleClick,o=e.gameOver,c=e.x,u=e.y,s=e.neighbourBombs,m=(e.rightClick,e.isFlagged),f=e.touchStart,g=e.touchEnd;return r.a.createElement(O,{level:a,isClicked:i,onTouchStart:f,onTouchEnd:function(){return g(u,c)},index:n,onClick:function(){return l(u,c)},neighbourBombs:s},console.log("cell load"),r.a.createElement("div",null,t&&o?"\ud83d\udca3":m?"\ud83d\udea9":0!==s&&i?s:""))})),x=r.a.memo((function(e){var n=e.grid,t=e.level,a=e.singleClick,i=e.gameOver,l=e.rightClick,o=e.touchStart,c=e.touchEnd;return r.a.createElement(v,{level:t},n.map((function(e){return e.map((function(e){return r.a.createElement(E,{key:e.index,index:e.index,isBomb:e.isBomb,isFlagged:e.isFlagged,neighbourBombs:e.neighbourBombs,x:e.x,y:e.y,isClicked:e.isClicked,level:t,singleClick:a,gameOver:i,rightClick:l,touchStart:o,touchEnd:c})}))})))})),j=function(e){var n=e.level,t=e.levelChange;return r.a.createElement(r.a.Fragment,null,r.a.createElement("select",{onChange:t,value:n},r.a.createElement("option",{value:"7"},"Easy"),r.a.createElement("option",{value:"11"},"Medium"),r.a.createElement("option",{value:"15"},"Hard")))},w=function(e){var n=e.flagTotal;return r.a.createElement("p",null,r.a.createElement("span",{role:"img","aria-label":"flag"},"\ud83d\udea9"),n)},k=function(e){var n=e.timer;return r.a.createElement("p",null,r.a.createElement("span",{className:"emoji",role:"img","aria-label":"timer"},"\u23f1\ufe0f "),0===n?"000":n<10?"00"+n+"s":n<100?"0"+n+"s":n)};function S(){var e=Object(s.a)(["\n    font-family: Arial, Helvetica, sans-serif;\n    background-color: rgba(0,0,0,.5);\n    color: white;\n    position: absolute;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    z-index: 1;\n    transition: 1s 1s ease;\n    \n    h2 {\n        text-align: center;\n        font-size: 2rem;\n        text-shadow: 2px 2px black;\n    }\n\n    button {\n        margin: .5em 0;\n        align-self: center;\n        width: 150px;\n        padding: 1em 1.5em;\n        border-radius: 10px;\n        outline: none;\n        cursor: pointer;\n        font-weight: 600;\n        font-size: 1rem;\n        border: 2px solid black;\n        box-shadow: 1px 1px 0 1px rgba(0,0,0,.5);\n    }\n\n    button:hover,\n    button:focus {\n        background-color: green;\n        color: white;\n    }\n\n"]);return S=function(){return e},e}var y=m.a.div(S()),B=function(e){var n=e.gameOver,t=e.gameWon,a=e.reset;return r.a.createElement(r.a.Fragment,null,n?r.a.createElement(y,null,r.a.createElement("h2",null,"Game Over"),r.a.createElement("button",{onClick:a},"Play Again")):t?r.a.createElement(y,null,r.a.createElement("h2",null,"You've Won"),r.a.createElement("button",{onClick:a},"Play Again")):"")},C=r.a.memo((function(e){var n=e.bestTime;return r.a.createElement("p",{className:"best-time"},console.log("best time load"),r.a.createElement("span",{"aria-label":"timer",role:"img"},"\u23f1\ufe0f"," "),"Best Time:",0===n||null===n?" ---":n<10?" 00".concat(n,"s"):n<100?" 0".concat(n,"s"):" ".concat(n),r.a.createElement(u.BrowserView,null,r.a.createElement("span",null,"Right click to insert a flag")),r.a.createElement(u.MobileView,null,r.a.createElement("span",null,"Long press to insert a flag")))})),F=function(){var e=Object(a.useState)(9),n=Object(c.a)(e,2),t=n[0],i=n[1],l=Object(a.useState)([]),u=Object(c.a)(l,2),s=u[0],m=u[1],f=Object(a.useState)([]),b=Object(c.a)(f,2),p=b[0],v=b[1],h=Math.floor(1.5*t),O=Object(a.useState)(0),E=Object(c.a)(O,2),S=E[0],y=E[1],F=Object(a.useState)(!1),T=Object(c.a)(F,2),N=T[0],I=T[1],J=Object(a.useState)(!1),M=Object(c.a)(J,2),z=M[0],A=M[1],D=Object(a.useState)(0),H=Object(c.a)(D,2),W=H[0],U=H[1],V=Object(a.useState)(!1),P=Object(c.a)(V,2),R=P[0],G=P[1],L=Object(a.useState)(h),Y=Object(c.a)(L,2),q=Y[0],K=Y[1],Q=Object(a.useState)(!1),X=Object(c.a)(Q,2),Z=X[0],$=X[1],_=Object(a.useState)([]),ee=Object(c.a)(_,2),ne=ee[0],te=ee[1],ae=Object(a.useState)(!1),re=Object(c.a)(ae,2),ie=re[0],le=re[1],oe=Object(a.useState)(0),ce=Object(c.a)(oe,2),ue=ce[0],se=ce[1],me=Object(a.useState)(0),fe=Object(c.a)(me,2),ge=fe[0],be=fe[1];Object(a.useEffect)((function(){localStorage.getItem("minesweeperBestTime")&&se(localStorage.getItem("minesweeperBestTime"))}),[]),Object(a.useEffect)((function(){de()}),[t]),Object(a.useEffect)((function(){var e=setInterval((function(){N||(z?(W<ue||!localStorage.getItem("minesweeperBestTime"))&&localStorage.setItem("minesweeperBestTime",W):R&&U((function(e){return e+1})))}),1e3);return function(){return clearInterval(e)}}),[R]),Object(a.useEffect)((function(){ve()}),[p]),Object(a.useEffect)((function(){Z&&je()}),[Z]);var de=function(){se(localStorage.getItem("minesweeperBestTime")),I(!1),A(!1),G(!1),K(h),y(0),U(0),pe(),ve(),$(!1)},pe=function(){for(var e=[],n=t*t;e.length<h;){var a=Math.floor(Math.random()*n);e.includes(a)||e.push(a)}v(e)},ve=function(){if(p.length===h){for(var e=[],n=0;n<t;n++){e.push([]);for(var a=0;a<t;a++)e[n].push({index:n*t+a,y:n,x:a,isBomb:!!p.includes(n*t+a),isClicked:!1,neighbourBombs:0,isFlagged:!1})}m([].concat(e)),$(!0)}},he=function(e,n){var t=JSON.parse(JSON.stringify(s));s[e][n].isFlagged?(t[e][n].isFlagged=!1,K((function(e){return e+1}))):!1===s[e][n].isClicked&&(t[e][n].isFlagged=!0,K((function(e){return e-1}))),m(t)},Oe=function(e,n){if(R||G(!0),!(s[e][n].isClicked||s[e][n].isFlagged||N||z)){var t=JSON.parse(JSON.stringify(s));t[e][n].isClicked=!0,m(t),y((function(e){return e+1})),xe(e,n)||0===s[e][n].neighbourBombs&&Ee(e,n)}},Ee=function(e,n){for(var a=[e-1,e,e+1],r=[n-1,n,n+1],i=function(e){for(var n=function(n){if(a[e]<0||r[n]<0||a[e]>t-1||r[n]>t-1||1===n&&1===e)return"continue";s[a[e]][r[n]].isFlagged||s[a[e]][r[n]].isClicked||(y((function(e){return e+1})),te((function(t){return[].concat(Object(o.a)(t),[[a[e],r[n]]])})))},i=0;i<3;i++)n(i)},l=0;l<3;l++)i(l);le(!0)};Object(a.useEffect)((function(){if(ie){var e=JSON.parse(JSON.stringify(s));Object(o.a)(ne).forEach((function(n){e[n[0]][n[1]].isClicked=!0})),m(e),te([]),le(!1)}}),[ie]);var xe=function(e,n){var a=t*t-h-1;if(s[e][n].isBomb?(I(!0),G(!1)):S===a&&(A(!0),G(!1)),s[e][n].isBomb)return!0},je=function(){for(var e=JSON.parse(JSON.stringify(s)),n=0,a=0;a<t;a++)for(var r=0;r<t;r++)n=we(a,r),e[a][r].neighbourBombs=n;m(Object(o.a)(e))},we=function(e,n){for(var a=0,r=[e-1,e,e+1],i=[n-1,n,n+1],l=0;l<3;l++)for(var o=0;o<3;o++){if(s[e][n].isFlagged)return;r[l]<0||i[o]<0||r[l]>t-1||i[o]>t-1||1===o&&1===l||s[r[l]][i[o]].isBomb&&a++}return a};return r.a.createElement(r.a.Fragment,null,r.a.createElement(d,null,r.a.createElement("h1",null,"Minesweeper"),r.a.createElement(g,null,r.a.createElement(j,{levelChange:function(e){i(e.target.value)},level:t}),r.a.createElement(w,{flagTotal:q}),r.a.createElement(k,{timer:W})),r.a.createElement(x,{grid:s,level:t,bombs:p,singleClick:Oe,gameOver:N,rightClick:function(e,n,t){e.persist(),2===e.button&&(e.preventDefault(),he(n,t))},touchStart:function(){var e=(new Date).getTime();be(e)},touchEnd:function(e,n){(new Date).getTime()-ge<250?Oe(e,n):he(e,n)}}),r.a.createElement(B,{gameOver:N,gameWon:z,reset:de}),r.a.createElement(g,null,r.a.createElement(C,{bestTime:ue}))))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(F,null)),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.3460be5d.chunk.js.map