(this["webpackJsonpminesweeper-react"]=this["webpackJsonpminesweeper-react"]||[]).push([[0],{16:function(e,n,t){e.exports=t(25)},21:function(e,n,t){},25:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),i=t(12),l=t.n(i),c=(t(21),t(8)),o=t(1),u=t(4),s=t(2),m=t(3);function f(){var e=Object(s.a)(["\n  font-family: Arial, Helvetica, sans-serif;\n  display: flex;\n  justify-content: space-evenly;\n  background-color: green;\n  height: 60px;\n\n  select {\n    height: 35px;\n    width: 80px;\n    border-radius: 5px;\n    align-self: center;\n  }\n\n  p {\n    font-size: 1rem;\n    color: white;\n  }\n  \n  .best-time {\n    text-align: center;\n    align-self: center;\n\n    span {\n      font-size: .75rem;\n    }\n  }\n"]);return f=function(){return e},e}var g=m.a.div(f());function b(){var e=Object(s.a)(["\n  width: 500px;\n\n  @media (max-width: 700px) {\n    width: 400px;\n  }\n"]);return b=function(){return e},e}var d=m.a.div(b());function v(){var e=Object(s.a)(["\n    display: grid;\n    grid-template-columns: repeat(",", 1fr);\n    grid-template-rows: repeat(",", 1fr);\n    height: 500px;\n    align-self: center;\n\n    @media (max-width: 700px) {\n        height: 400px;\n    }\n"]);return v=function(){return e},e}var p=m.a.div(v(),(function(e){return e.level}),(function(e){return e.level}));function h(){var e=Object(s.a)(["\n  display: flex;\n  justify-content: center;\n  background-color: ",";\n  color : ",";\n  cursor: pointer;\n  div {\n    font-family: Arial, Helvetica, sans-serif;\n    align-self: center;\n    font-size: ",";\n  }\n"]);return h=function(){return e},e}var O=m.a.div(h(),(function(e){return e.isClicked&&e.index%2===0?"#E5C29F":e.isClicked&&e.index%2!==0?"#D7B898":e.index%2===0?"#A7D947":"#8ECC39"}),(function(e){return 1===e.neighbourBombs?"blue":2===e.neighbourBombs?"green":3===e.neighbourBombs?"red":4===e.neighbourBombs?"purple":5===e.neighbourBombs?"orange":6===e.neighbourBombs?"black":"yellow"}),(function(e){return"21"===e.level?".7rem":"15"===e.level?"1rem":"1.2rem"})),E=r.a.memo((function(e){var n=e.index,t=e.isBomb,a=e.level,i=e.isClicked,l=e.singleClick,c=e.gameOver,o=e.x,u=e.y,s=e.neighbourBombs,m=(e.rightClick,e.isFlagged),f=e.touchStart,g=e.touchEnd;return r.a.createElement(O,{level:a,isClicked:i,onTouchStart:f,onTouchEnd:function(){return g(u,o)},index:n,onClick:function(){return l(u,o)},neighbourBombs:s},console.log("cell load"),r.a.createElement("div",null,t&&c?"\ud83d\udca3":m?"\ud83d\udea9":0!==s&&i?s:""))})),j=r.a.memo((function(e){var n=e.grid,t=e.level,a=e.singleClick,i=e.gameOver,l=e.rightClick,c=e.touchStart,o=e.touchEnd;return r.a.createElement(p,{level:t},n.map((function(e){return e.map((function(e){return r.a.createElement(E,{key:e.index,index:e.index,isBomb:e.isBomb,isFlagged:e.isFlagged,neighbourBombs:e.neighbourBombs,x:e.x,y:e.y,isClicked:e.isClicked,level:t,singleClick:a,gameOver:i,rightClick:l,touchStart:c,touchEnd:o})}))})))})),x=function(e){var n=e.level,t=e.levelChange;return r.a.createElement(r.a.Fragment,null,r.a.createElement("select",{onChange:t,value:n},r.a.createElement("option",{value:"9"},"Easy"),r.a.createElement("option",{value:"11"},"Medium"),r.a.createElement("option",{value:"13"},"Hard")))},S=function(e){var n=e.flagTotal;return r.a.createElement("p",null,r.a.createElement("span",{role:"img","aria-label":"flag"},"\ud83d\udea9"),n)},k=function(e){var n=e.timer;return r.a.createElement("p",null,r.a.createElement("span",{className:"emoji",role:"img","aria-label":"timer"},"\u23f1\ufe0f "),0===n?"000":n<10?"00"+n+"s":n<100?"0"+n+"s":n)};function B(){var e=Object(s.a)(["\n    font-family: Arial, Helvetica, sans-serif;\n    background-color: rgba(0,0,0,.6);\n    color: white;\n    font-size: 2.5rem;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    padding: 40px 20px;\n    border-radius: 10px;\n    display: flex;\n    flex-direction: column;\n    z-index: 1;\n    transition: 1s 1s ease;\n    \n    h2 {\n        text-align: center;\n        font-size: 2rem;\n    }\n\n    button {\n        margin: .5em 0;\n        align-self: center;\n        width: 100px;\n        padding: .5em 1em;\n        cursor: pointer;\n    }\n\n"]);return B=function(){return e},e}var C=m.a.div(B()),w=function(e){var n=e.gameOver,t=e.gameWon,a=e.reset;return r.a.createElement(r.a.Fragment,null,n?r.a.createElement(C,null,r.a.createElement("h2",null,"Game Over"),r.a.createElement("button",{onClick:a},"Play Again")):t?r.a.createElement(C,null,r.a.createElement("h2",null,"You've Won"),r.a.createElement("button",{onClick:a},"Play Again")):"")},y=r.a.memo((function(e){var n=e.bestTime;return r.a.createElement("p",{className:"best-time"},console.log("best time load"),r.a.createElement("span",{"aria-label":"timer",role:"img"},"\u23f1\ufe0f"," "),"Best Time:",0===n||null===n?" ---":n<10?" 00".concat(n,"s"):n<100?" 0".concat(n,"s"):" ".concat(n),r.a.createElement("br",null),r.a.createElement(u.BrowserView,null,r.a.createElement("span",null,"Right click to insert a flag")),r.a.createElement(u.MobileView,null,r.a.createElement("span",null,"Long press to insert a flag")))})),F=function(){var e=Object(a.useState)(9),n=Object(o.a)(e,2),t=n[0],i=n[1],l=Object(a.useState)([]),u=Object(o.a)(l,2),s=u[0],m=u[1],f=Object(a.useState)([]),b=Object(o.a)(f,2),v=b[0],p=b[1],h=2*t,O=Object(a.useState)(0),E=Object(o.a)(O,2),B=E[0],C=E[1],F=Object(a.useState)(!1),T=Object(o.a)(F,2),J=T[0],N=T[1],I=Object(a.useState)(!1),z=Object(o.a)(I,2),A=z[0],D=z[1],M=Object(a.useState)(0),H=Object(o.a)(M,2),W=H[0],P=H[1],V=Object(a.useState)(!1),G=Object(o.a)(V,2),L=G[0],R=G[1],Y=Object(a.useState)(h),q=Object(o.a)(Y,2),K=q[0],Q=q[1],U=Object(a.useState)(!1),X=Object(o.a)(U,2),Z=X[0],$=X[1],_=Object(a.useState)([]),ee=Object(o.a)(_,2),ne=ee[0],te=ee[1],ae=Object(a.useState)(!1),re=Object(o.a)(ae,2),ie=re[0],le=re[1],ce=Object(a.useState)(0),oe=Object(o.a)(ce,2),ue=oe[0],se=oe[1],me=Object(a.useState)(0),fe=Object(o.a)(me,2),ge=fe[0],be=fe[1];Object(a.useEffect)((function(){localStorage.getItem("minesweeperBestTime")&&se(localStorage.getItem("minesweeperBestTime"))}),[]),Object(a.useEffect)((function(){de()}),[t]),Object(a.useEffect)((function(){var e=setInterval((function(){J||(A?(W<ue||!localStorage.getItem("minesweeperBestTime"))&&localStorage.setItem("minesweeperBestTime",W):L&&P((function(e){return e+1})))}),1e3);return function(){return clearInterval(e)}}),[L]),Object(a.useEffect)((function(){pe()}),[v]),Object(a.useEffect)((function(){Z&&xe()}),[Z]);var de=function(){se(localStorage.getItem("minesweeperBestTime")),N(!1),D(!1),R(!1),Q(h),C(0),P(0),ve(),pe(),$(!1)},ve=function(){for(var e=[],n=t*t;e.length<h;){var a=Math.floor(Math.random()*n);e.includes(a)||e.push(a)}p(e)},pe=function(){if(v.length===h){for(var e=[],n=0;n<t;n++){e.push([]);for(var a=0;a<t;a++)e[n].push({index:n*t+a,y:n,x:a,isBomb:!!v.includes(n*t+a),isClicked:!1,neighbourBombs:0,isFlagged:!1})}m([].concat(e)),$(!0)}},he=function(e,n){var t=JSON.parse(JSON.stringify(s));s[e][n].isFlagged?(t[e][n].isFlagged=!1,Q((function(e){return e+1}))):!1===s[e][n].isClicked&&(t[e][n].isFlagged=!0,Q((function(e){return e-1}))),m(t)},Oe=function(e,n){if(L||R(!0),!(s[e][n].isClicked||s[e][n].isFlagged||J||A)){var t=JSON.parse(JSON.stringify(s));t[e][n].isClicked=!0,m(t),C((function(e){return e+1})),je(e,n)||0===s[e][n].neighbourBombs&&Ee(e,n)}},Ee=function(e,n){for(var a=[e-1,e,e+1],r=[n-1,n,n+1],i=function(e){for(var n=function(n){if(a[e]<0||r[n]<0||a[e]>t-1||r[n]>t-1||1===n&&1===e)return"continue";s[a[e]][r[n]].isFlagged||s[a[e]][r[n]].isClicked||(C((function(e){return e+1})),te((function(t){return[].concat(Object(c.a)(t),[[a[e],r[n]]])})))},i=0;i<3;i++)n(i)},l=0;l<3;l++)i(l);le(!0)};Object(a.useEffect)((function(){if(ie){var e=JSON.parse(JSON.stringify(s));Object(c.a)(ne).forEach((function(n){e[n[0]][n[1]].isClicked=!0})),m(e),te([]),le(!1)}}),[ie]);var je=function(e,n){var a=t*t-h-1;if(s[e][n].isBomb?(N(!0),R(!1)):B===a&&(D(!0),R(!1)),s[e][n].isBomb)return!0},xe=function(){for(var e=JSON.parse(JSON.stringify(s)),n=0,a=0;a<t;a++)for(var r=0;r<t;r++)n=Se(a,r),e[a][r].neighbourBombs=n;m(Object(c.a)(e))},Se=function(e,n){for(var a=0,r=[e-1,e,e+1],i=[n-1,n,n+1],l=0;l<3;l++)for(var c=0;c<3;c++){if(s[e][n].isFlagged)return;r[l]<0||i[c]<0||r[l]>t-1||i[c]>t-1||1===c&&1===l||s[r[l]][i[c]].isBomb&&a++}return a};return r.a.createElement(r.a.Fragment,null,r.a.createElement(d,null,r.a.createElement(g,null,r.a.createElement(x,{levelChange:function(e){i(e.target.value)},level:t}),r.a.createElement(S,{flagTotal:K}),r.a.createElement(k,{timer:W})),r.a.createElement(j,{grid:s,level:t,bombs:v,singleClick:Oe,gameOver:J,rightClick:function(e,n,t){e.persist(),2===e.button&&(e.preventDefault(),he(n,t))},touchStart:function(){var e=(new Date).getTime();be(e)},touchEnd:function(e,n){(new Date).getTime()-ge<400?Oe(e,n):he(e,n)}}),r.a.createElement(w,{gameOver:J,gameWon:A,reset:de}),r.a.createElement(g,null,r.a.createElement(y,{bestTime:ue}))))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(F,null)),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.853d0005.chunk.js.map