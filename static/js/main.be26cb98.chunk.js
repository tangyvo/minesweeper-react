(this["webpackJsonpminesweeper-react"]=this["webpackJsonpminesweeper-react"]||[]).push([[0],{16:function(e,n,t){e.exports=t(25)},21:function(e,n,t){},25:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),i=t(12),l=t.n(i),c=(t(21),t(8)),o=t(1),u=t(5),s=t(2),m=t(3);function f(){var e=Object(s.a)(["\n  font-family: Arial, Helvetica, sans-serif;\n  display: flex;\n  justify-content: space-evenly;\n  background-color: green;\n  height: 60px;\n\n  select {\n    height: 35px;\n    width: 80px;\n    border-radius: 5px;\n    align-self: center;\n  }\n\n  p {\n    font-size: 1rem;\n    color: white;\n  }\n  \n  .best-time {\n    text-align: center;\n    align-self: center;\n\n    span {\n      font-size: .75rem;\n    }\n  }\n"]);return f=function(){return e},e}var g=m.a.div(f());function b(){var e=Object(s.a)(["\n  width: 500px;\n\n  @media (max-width: 700px) {\n    width: 300px;\n  }\n"]);return b=function(){return e},e}var d=m.a.div(b());function v(){var e=Object(s.a)(["\n    display: grid;\n    grid-template-columns: repeat(",", 1fr);\n    grid-template-rows: repeat(",", 1fr);\n    height: 500px;\n    align-self: center;\n\n    @media (max-width: 700px) {\n        height: 300px;\n    }\n"]);return v=function(){return e},e}var p=m.a.div(v(),(function(e){return e.level}),(function(e){return e.level}));function h(){var e=Object(s.a)(["\n  display: flex;\n  justify-content: center;\n  background-color: ",";\n  color : ",";\n  cursor: pointer;\n  div {\n    font-family: Arial, Helvetica, sans-serif;\n    align-self: center;\n    font-size: ",";\n  }\n"]);return h=function(){return e},e}var O=m.a.div(h(),(function(e){return e.isClicked&&e.index%2===0?"#E5C29F":e.isClicked&&e.index%2!==0?"#D7B898":e.index%2===0?"#A7D947":"#8ECC39"}),(function(e){return 1===e.neighbourBombs?"blue":2===e.neighbourBombs?"green":3===e.neighbourBombs?"red":4===e.neighbourBombs?"purple":5===e.neighbourBombs?"orange":6===e.neighbourBombs?"black":"yellow"}),(function(e){return"21"===e.level?".7rem":"15"===e.level?"1rem":"1.2rem"})),E=r.a.memo((function(e){var n=e.index,t=e.isBomb,a=e.level,i=e.isClicked,l=e.singleClick,c=e.gameOver,o=e.x,u=e.y,s=e.neighbourBombs,m=e.rightClick,f=e.isFlagged,g=e.touchStart,b=e.touchEnd;return r.a.createElement(O,{level:a,isClicked:i,onContextMenu:function(e){return m(e,u,o)},onTouchStart:g,onTouchEnd:function(){return b(u,o)},index:n,onClick:function(){return l(u,o)},neighbourBombs:s},console.log("cell load"),r.a.createElement("div",null,t&&c?"\ud83d\udca3":f?"\ud83d\udea9":0!==s&&i?s:""))})),j=r.a.memo((function(e){var n=e.grid,t=e.level,a=e.singleClick,i=e.gameOver,l=e.rightClick,c=e.touchStart,o=e.touchEnd;return r.a.createElement(p,{level:t},n.map((function(e){return e.map((function(e){return r.a.createElement(E,{key:e.index,index:e.index,isBomb:e.isBomb,isFlagged:e.isFlagged,neighbourBombs:e.neighbourBombs,x:e.x,y:e.y,isClicked:e.isClicked,level:t,singleClick:a,gameOver:i,rightClick:l,touchStart:c,touchEnd:o})}))})))})),x=function(e){var n=e.level,t=e.levelChange;return r.a.createElement(r.a.Fragment,null,r.a.createElement("select",{onChange:t,value:n},r.a.createElement("option",{value:"9"},"Easy"),r.a.createElement("option",{value:"15"},"Medium"),r.a.createElement("option",{value:"21"},"Hard")))},S=function(e){var n=e.flagTotal;return r.a.createElement("p",null,r.a.createElement("span",{role:"img","aria-label":"flag"},"\ud83d\udea9"),n)},k=function(e){var n=e.timer;return r.a.createElement("p",null,r.a.createElement("span",{className:"emoji",role:"img","aria-label":"timer"},"\u23f1\ufe0f "),0===n?"000":n<10?"00"+n+"s":n<100?"0"+n+"s":n)};function C(){var e=Object(s.a)(["\n    font-family: Arial, Helvetica, sans-serif;\n    background-color: rgba(0,0,0,.6);\n    color: white;\n    font-size: 2.5rem;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    padding: 40px 20px;\n    border-radius: 10px;\n    display: flex;\n    flex-direction: column;\n    z-index: 1;\n    transition: 1s 1s ease;\n    \n    h2 {\n        text-align: center;\n        font-size: 2rem;\n    }\n\n    button {\n        margin: .5em 0;\n        align-self: center;\n        width: 100px;\n        padding: .5em 1em;\n        cursor: pointer;\n    }\n\n"]);return C=function(){return e},e}var B=m.a.div(C()),w=function(e){var n=e.gameOver,t=e.gameWon,a=e.reset;return r.a.createElement(r.a.Fragment,null,n?r.a.createElement(B,null,r.a.createElement("h2",null,"Game Over"),r.a.createElement("button",{onClick:a},"Play Again")):t?r.a.createElement(B,null,r.a.createElement("h2",null,"You've Won"),r.a.createElement("button",{onClick:a},"Play Again")):"")},y=r.a.memo((function(e){var n=e.bestTime;return r.a.createElement("p",{className:"best-time"},console.log("best time load"),r.a.createElement("span",{"aria-label":"timer",role:"img"},"\u23f1\ufe0f"," "),"Best Time:",0===n||null===n?" ---":n<10?" 00".concat(n,"s"):n<100?" 0".concat(n,"s"):" ".concat(n),r.a.createElement("br",null),r.a.createElement(u.BrowserView,null,r.a.createElement("span",null,"Right click to insert a flag")),r.a.createElement(u.MobileView,null,r.a.createElement("span",null,"Long press to insert a flag")))})),F=function(){var e=Object(a.useState)(9),n=Object(o.a)(e,2),t=n[0],i=n[1],l=Object(a.useState)([]),s=Object(o.a)(l,2),m=s[0],f=s[1],b=Object(a.useState)([]),v=Object(o.a)(b,2),p=v[0],h=v[1],O=2*t,E=Object(a.useState)(0),C=Object(o.a)(E,2),B=C[0],F=C[1],T=Object(a.useState)(!1),J=Object(o.a)(T,2),N=J[0],I=J[1],M=Object(a.useState)(!1),z=Object(o.a)(M,2),A=z[0],D=z[1],H=Object(a.useState)(0),W=Object(o.a)(H,2),P=W[0],V=W[1],G=Object(a.useState)(!1),L=Object(o.a)(G,2),R=L[0],Y=L[1],q=Object(a.useState)(O),K=Object(o.a)(q,2),Q=K[0],U=K[1],X=Object(a.useState)(!1),Z=Object(o.a)(X,2),$=Z[0],_=Z[1],ee=Object(a.useState)([]),ne=Object(o.a)(ee,2),te=ne[0],ae=ne[1],re=Object(a.useState)(!1),ie=Object(o.a)(re,2),le=ie[0],ce=ie[1],oe=Object(a.useState)(0),ue=Object(o.a)(oe,2),se=ue[0],me=ue[1],fe=Object(a.useState)(0),ge=Object(o.a)(fe,2),be=ge[0],de=ge[1];Object(a.useEffect)((function(){localStorage.getItem("minesweeperBestTime")&&me(localStorage.getItem("minesweeperBestTime"))}),[]),Object(a.useEffect)((function(){ve()}),[t]),Object(a.useEffect)((function(){var e=setInterval((function(){N||(A?(P<se||!localStorage.getItem("minesweeperBestTime"))&&localStorage.setItem("minesweeperBestTime",P):R&&V((function(e){return e+1})))}),1e3);return function(){return clearInterval(e)}}),[R]),Object(a.useEffect)((function(){he()}),[p]),Object(a.useEffect)((function(){$&&Se()}),[$]);var ve=function(){me(localStorage.getItem("minesweeperBestTime")),I(!1),D(!1),Y(!1),U(O),F(0),V(0),pe(),he(),_(!1)},pe=function(){for(var e=[],n=t*t;e.length<O;){var a=Math.floor(Math.random()*n);e.includes(a)||e.push(a)}h(e)},he=function(){if(p.length===O){for(var e=[],n=0;n<t;n++){e.push([]);for(var a=0;a<t;a++)e[n].push({index:n*t+a,y:n,x:a,isBomb:!!p.includes(n*t+a),isClicked:!1,neighbourBombs:0,isFlagged:!1})}f([].concat(e)),_(!0)}},Oe=function(e,n){var t=JSON.parse(JSON.stringify(m));m[e][n].isFlagged?(t[e][n].isFlagged=!1,U((function(e){return e+1}))):!1===m[e][n].isClicked&&(t[e][n].isFlagged=!0,U((function(e){return e-1}))),f(t)},Ee=function(e,n){if(!u.isMobile&&(R||Y(!0),!(m[e][n].isClicked||m[e][n].isFlagged||N||A))){var t=JSON.parse(JSON.stringify(m));t[e][n].isClicked=!0,f(t),F((function(e){return e+1})),xe(e,n)||0===m[e][n].neighbourBombs&&je(e,n)}},je=function(e,n){for(var a=[e-1,e,e+1],r=[n-1,n,n+1],i=function(e){for(var n=function(n){if(a[e]<0||r[n]<0||a[e]>t-1||r[n]>t-1||1===n&&1===e)return"continue";m[a[e]][r[n]].isFlagged||m[a[e]][r[n]].isClicked||(F((function(e){return e+1})),ae((function(t){return[].concat(Object(c.a)(t),[[a[e],r[n]]])})))},i=0;i<3;i++)n(i)},l=0;l<3;l++)i(l);ce(!0)};Object(a.useEffect)((function(){if(le){var e=JSON.parse(JSON.stringify(m));Object(c.a)(te).forEach((function(n){e[n[0]][n[1]].isClicked=!0})),f(e),ae([]),ce(!1)}}),[le]);var xe=function(e,n){var a=t*t-O-1;if(m[e][n].isBomb?(I(!0),Y(!1)):B===a&&(D(!0),Y(!1)),m[e][n].isBomb)return!0},Se=function(){for(var e=JSON.parse(JSON.stringify(m)),n=0,a=0;a<t;a++)for(var r=0;r<t;r++)n=ke(a,r),e[a][r].neighbourBombs=n;f(Object(c.a)(e))},ke=function(e,n){for(var a=0,r=[e-1,e,e+1],i=[n-1,n,n+1],l=0;l<3;l++)for(var c=0;c<3;c++){if(m[e][n].isFlagged)return;r[l]<0||i[c]<0||r[l]>t-1||i[c]>t-1||1===c&&1===l||m[r[l]][i[c]].isBomb&&a++}return a};return r.a.createElement(r.a.Fragment,null,r.a.createElement(d,null,r.a.createElement(g,null,r.a.createElement(x,{levelChange:function(e){i(e.target.value)},level:t}),r.a.createElement(S,{flagTotal:Q}),r.a.createElement(k,{timer:P})),r.a.createElement(j,{grid:m,level:t,bombs:p,singleClick:Ee,gameOver:N,rightClick:function(e,n,t){e.persist(),2===e.button&&(e.preventDefault(),Oe(n,t))},touchStart:function(){var e=(new Date).getTime();de(e)},touchEnd:function(e,n){(new Date).getTime()-be<400?Ee(e,n):Oe(e,n)}}),r.a.createElement(w,{gameOver:N,gameWon:A,reset:ve}),r.a.createElement(g,null,r.a.createElement(y,{bestTime:se}))))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(F,null)),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.be26cb98.chunk.js.map